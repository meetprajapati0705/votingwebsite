<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login & Register with Age & Voting ID</title>

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

<style>
* { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
body {
    display: flex; justify-content: center; align-items: center;
    min-height: 100vh;
    background: url(background.jpg) no-repeat center/cover;
    flex-direction: column;
    animation: pageFadeIn 1s ease;
}
@keyframes pageFadeIn { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }

header {
    position: fixed; top: 0; left: 0; width: 100%;
    padding: 20px 100px; display: flex; justify-content: space-between;
    align-items: center; z-index: 99;
    animation: slideDown 0.8s ease;
}
@keyframes slideDown { from { transform: translateY(-100px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
.logo { font-size: 2em; color: #fff; }

.navigation a {
    position: relative; font-size: 1.1em; color: #fff; text-decoration: none;
    font-weight: 500; margin-left: 40px; transition: color 0.3s ease;
}
.navigation a::after {
    content: ''; position: absolute; width: 0; left: 0; bottom: -6px;
    height: 3px; background: #ffdd00; border-radius: 5px;
    transition: width .3s ease;
}
.navigation a:hover { color: black; text-shadow: 0 0 10px white; }
.navigation a:hover::after { width: 100%; }

.navigation .btnlogin-popup {
    width: 130px; height: 50px; background: transparent;
    border: 2px solid #fff; border-radius: 6px; cursor: pointer;
    font-size: 1.1em; color: #fff; font-weight: 500; margin-left: 40px;
    position: relative; overflow: hidden;
    animation: pulse 1.5s infinite;
}
@keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
.navigation .btnlogin-popup::before {
    content: ''; position: absolute; top: 0; left: -100%;
    width: 100%; height: 100%;
    background: linear-gradient(120deg, transparent, rgba(255,255,255,0.4), transparent);
    animation: shimmer 2s infinite;
}
@keyframes shimmer { 0% { left: -100%; } 100% { left: 100%; } }
.navigation .btnlogin-popup:hover { background: black; color: white;}

.wrapper {
    position: relative; width: 400px; background: transparent;
    border: 2px solid rgba(255,255,255,.5); border-radius: 20px;
    backdrop-filter: blur(20px); box-shadow: 0 0 30px rgba(0,0,0,.5);
    overflow: hidden; transform: scale(0);
    transition: transform .5s ease; z-index: 100;
}
.wrapper.active-popup { transform: scale(1); animation: popUp 0.5s ease; }
@keyframes popUp { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
.wrapper .form-box { width: 100%; padding: 40px; }

.icon-close {
    position: absolute; top: 0; right: 0; width: 45px; height: 45px;
    background: #162938; font-size: 2em; color: #fff;
    display: flex; justify-content: center; align-items: center;
    border-bottom-left-radius: 20px; cursor: pointer; z-index: 1;
}

.form-box h2 { font-size: 2em; color: #162938; text-align: center; }
.input-box {
    position: relative; width: 100%; height: 50px;
    border-bottom: 2px solid #162938; margin: 30px 0;
}
.input-box label {
    position: absolute; top: 50%; left: 5px; transform: translateY(-50%);
    font-size: 1em; color: #162938; font-weight: 500;
    pointer-events: none; transition: .5s;
}
.input-box input:focus ~ label,
.input-box input:valid ~ label { top: -5px; color: #007bff; }
.input-box input {
    width: 100%; height: 100%; background: transparent; border: none;
    outline: none; font-size: 1em; color: #162938; font-weight: 600;
    padding: 0 35px 0 5px;
}
.input-box .icon {
    position: absolute; right: 8px; font-size: 1.2em;
    color: #162938; line-height: 57px; cursor: pointer;
}

.remember-forgot {
    font-size: .9em; color: #162938; font-weight: 500;
    margin: -15px 0 15px; display: flex; justify-content: space-between;
}
.btn {
    width: 100%; height: 45px; background: #162938; border: none;
    border-radius: 6px; cursor: pointer; font-size: 1em; color: #fff;
    font-weight: 500;
}
.message { font-size: .8em; margin-top: 5px; }
.message.invalid { color: red; }
.message.valid { color: green; }

.switch-link {
    font-size: .9em;
    text-align: center;
    margin-top: 15px;
}
.switch-link a {
    color: #007bff;
    text-decoration: none;
    font-weight: 500;
}
.switch-link a:hover {
    text-decoration: underline;
}
</style>
</head>
<body>

<header>
    <h1 class="logo">Logo
	<br>
	<span><ion-icon name="logo-medium"></ion-icon></span>
	<span><ion-icon name="logo-venmo"></ion-icon></span>
	<span><ion-icon name="logo-foursquare"></ion-icon></span>
	</h1>
    <nav class="navigation">
        <a href="home.html">Home</a>
        <a href="about.html">About</a>
        <a href="service.html">Service</a>
        <a href="contact.html">Contact Us</a>
        <button class="btnlogin-popup">Login</button>
    </nav>
</header>

<div class="wrapper">
    <span class="icon-close"><ion-icon name="close"></ion-icon></span>

    <!-- Login Form -->
    <div class="form-box login">
        <h2>Login</h2>
        <form id="loginForm">
            <div class="input-box">
                <span class="icon"><ion-icon name="mail"></ion-icon></span>
                <input type="email" id="loginEmail" required>
                <label>Email</label>
            </div>
            <div class="input-box">
                <span class="icon"><ion-icon name="calendar"></ion-icon></span>
                <input type="number" id="loginAge" required min="18" max="100">
                <label>Age</label>
            </div>
            <div class="input-box">
                <span class="icon"><ion-icon name="card"></ion-icon></span>
                <input type="text" id="loginVotingId" required>
                <label>Voting ID</label>
            </div>
            <div class="input-box">
                <span class="icon toggle-password" onclick="togglePassword('loginPassword', this)">
                    <ion-icon name="eye-off"></ion-icon>
                </span>
                <input type="password" id="loginPassword" required>
                <label>Password</label>
            </div>
            <div class="message" id="loginMessage"></div>
            <div class="remember-forgot">
                <label><input type="checkbox">Remember me</label>
                <a href="#">Forgot Password?</a>
            </div>
            <button type="submit" class="btn">Login</button>
            <div class="switch-link">Don't have an account? <a href="#" id="showRegister">Register</a></div>
        </form>
    </div>

    <!-- Register Form -->
    <div class="form-box register" style="display: none;">
        <h2>Register</h2>
        <form id="registerForm">
            <div class="input-box">
                <span class="icon"><ion-icon name="person"></ion-icon></span>
                <input type="text" id="regName" required>
                <label>Full Name</label>
            </div>
            
            <div class="input-box">
                <span class="icon"><ion-icon name="mail"></ion-icon></span>
                <input type="email" id="regEmail" required>
                <label>Email</label>
            </div>
            <div class="input-box">
                <span class="icon toggle-password" onclick="togglePassword('regPassword', this)">
                    <ion-icon name="eye-off"></ion-icon>
                </span>
                <input type="password" id="regPassword" required>
                <label>Password</label>
            </div>
            <div class="message" id="registerMessage"></div>
            <button type="submit" class="btn">Register</button>
            <div class="switch-link">Already have an account? <a href="#" id="showLogin">Login</a></div>
        </form>
    </div>
</div>

<script>
const wrapper = document.querySelector('.wrapper');
const btnPopup = document.querySelector('.btnlogin-popup');
const iconClose = document.querySelector('.icon-close');
const loginFormBox = document.querySelector('.form-box.login');
const registerFormBox = document.querySelector('.form-box.register');
const showRegisterLink = document.getElementById('showRegister');
const showLoginLink = document.getElementById('showLogin');

// Functions to switch forms
function switchToRegister() {
    loginFormBox.style.display = 'none';
    registerFormBox.style.display = 'block';
}
function switchToLogin() {
    registerFormBox.style.display = 'none';
    loginFormBox.style.display = 'block';
}

// Open popup
btnPopup.addEventListener('click', () => {
    wrapper.classList.add('active-popup');
    switchToLogin();
});

// Close popup
iconClose.addEventListener('click', () => wrapper.classList.remove('active-popup'));

// Link click handlers
showRegisterLink.addEventListener('click', (e) => {
    e.preventDefault();
    switchToRegister();
});
showLoginLink.addEventListener('click', (e) => {
    e.preventDefault();
    switchToLogin();
});

// Toggle Password
function togglePassword(inputId, iconElement) {
    const input = document.getElementById(inputId);
    const icon = iconElement.querySelector("ion-icon");

    if (input.type === "password") {
        input.type = "text";
        icon.setAttribute("name", "eye");
    } else {
        input.type = "password";
        icon.setAttribute("name", "eye-off");
    }
}

// Login validation
document.getElementById("loginForm").addEventListener("submit", function(e){
    e.preventDefault();
    const age = parseInt(document.getElementById("loginAge").value);
    const votingId = document.getElementById("loginVotingId").value.trim();
    const pass = document.getElementById("loginPassword").value;
    let errors = [];
    if(isNaN(age) || age < 18) errors.push("Must be 18 or older");
    if(votingId.length < 5) errors.push("Enter a valid Voting ID");
    if(pass.length < 8) errors.push("Minimum 8 characters");
    if(!/[A-Z]/.test(pass)) errors.push("At least one uppercase letter");
    if(!/[0-9]/.test(pass)) errors.push("At least one number");
    if(!/[!@#$%^&*~]/.test(pass)) errors.push("At least one special character");

    const msg = document.getElementById("loginMessage");
    if(errors.length === 0){
        msg.textContent = "Login successful ✔";
        msg.className = "message valid";
        window.location.href = "vote.html";
    } else {
        msg.textContent = errors.join(", ");
        msg.className = "message invalid";
    }
});

// Register validation
document.getElementById("registerForm").addEventListener("submit", function(e){
    e.preventDefault();
    const pass = document.getElementById("regPassword").value;
    let errors = [];
   
    if(pass.length < 8) errors.push("Minimum 8 characters");
    if(!/[A-Z]/.test(pass)) errors.push("At least one uppercase letter");
    if(!/[0-9]/.test(pass)) errors.push("At least one number");
    if(!/[!@#$%^&*~]/.test(pass)) errors.push("At least one special character");

    const msg = document.getElementById("registerMessage");
    if(errors.length === 0){
        msg.textContent = "Registration successful ✔";
        msg.className = "message valid";
        alert("Account Created! You can now log in.");
        switchToLogin();
    } else {
        msg.textContent = errors.join(", ");
        msg.className = "message invalid";
    }
});
</script>

<!-- Ionicons -->
<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

</body>
</html>
