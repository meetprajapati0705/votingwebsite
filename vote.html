<!DOCTYPE html>
<html>
<head>
<title>Voting System</title>
<style>
    body {
        background: linear-gradient(-45deg, #162938, #1f4068, #2a5298, #162938);
        background-size: 400% 400%;
        animation: gradientMove 10s ease infinite;
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        height: 100vh;
        display: flex;
        flex-direction: column;
    }

    @keyframes gradientMove {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }

    header {
        text-align: center;
        padding: 20px;
        color: white;
    }

    .voting-container {
        flex: 1;
        display: flex;
        justify-content: space-around;
        align-items: center;
    }

    .candidate {
        text-align: center;
        color: white;
    }

    button {
        background-color: #ff9800;
        border: none;
        border-radius: 12px;
        color: white;
        font-size: 18px;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
    }

    button:hover {
        transform: scale(1.1);
        box-shadow: 0px 0px 20px yellow;
    }

    .vote-result {
        font-size: 30px;
        color: white;
        margin-top: 15px;
        animation: fadeIn 0.5s ease-in-out;
        text-align: center;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-10px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .winner-glow {
        animation: glow 1s infinite alternate;
    }

    @keyframes glow {
        from { text-shadow: 0 0 5px gold, 0 0 10px gold; }
        to { text-shadow: 0 0 20px yellow, 0 0 30px orange; }
    }

    /* Confetti */
    .confetti {
        position: fixed;
        width: 10px;
        height: 10px;
        background-color: red;
        animation: fall 3s linear forwards;
    }

    @keyframes fall {
        to {
            transform: translateY(100vh) rotate(720deg);
            opacity: 0;
        }
    }

    .bottom-center {
        text-align: center;
        padding: 20px;
    }

    .button-group {
        display: flex;
        justify-content: center;
        gap: 20px;
    }
</style>
</head>
<body>
    <header>
        <h2>üéØ Online Voting Systemmm üéØ</h2>
        <p><b>Vote for your candidate:</b></p>
    </header>
    <button onclick="logout()" 
            style="position: absolute; top: 15px; right: 20px; padding: 8px 16px; background: red; color: white; border: none; border-radius: 5px; cursor: pointer;">
        Logout
    </button>

    <div class="voting-container">
        <!-- BJP Left -->
        <div class="candidate">
            <img src="c:\Users\hp\OneDrive\Desktop\Meet\bjb.jpeg" alt="BJP" width="150"><br><br>
            <button onclick="vote('BJP')" style="width: 150px; height: 70px;">Vote BJP</button>
        </div>

        <!-- Congress Right -->
        <div class="candidate">
            <img src="c:\Users\hp\OneDrive\Desktop\Meet\congress.png" alt="Congress" width="150"><br><br>
            <button onclick="vote('Congress')" style="width: 150px; height: 70px;">Vote Congress</button>
        </div>
    </div>

    <div class="vote-result" id="result"></div>
    <p id="winner" style="font-size: 40px; text-align:center;"></p>

    <!-- End & Reset Buttons at Bottom -->
    <div class="bottom-center">
        <div class="button-group">
            <button onclick="endVoting()" style="width: 200px; height: 70px;">End Voting</button>
            <button onclick="resetVoting()" style="width: 200px; height: 70px; background-color: #f44336;">Reset Voting</button>
        </div>
    </div>

<script>
let votesBJP = 0;
let votesCongress = 0;
let hasVoted = false; // ‚úÖ Prevent multiple voting

function vote(candidate) {
    if (hasVoted) {
        alert("‚ùå You have already voted!");
        return;
    }

    if (candidate === 'BJP') {
        votesBJP++;
    } else if (candidate === 'Congress') {
        votesCongress++;
    }

    hasVoted = true; // ‚úÖ User has now voted

    document.getElementById("result").innerHTML =
        `BJP: ${votesBJP} votes | Congress: ${votesCongress} votes`;

    // Disable both buttons
    document.getElementById("btnBJP").disabled = true;
    document.getElementById("btnCongress").disabled = true;
}


function endVoting() {
    votingEnded = true;
    let message = "";

    if (votesBJP > votesCongress) {
        message = `üèÜ BJP wins! (${votesBJP} - ${votesCongress})`;
        glowWinner();
    } else if (votesCongress > votesBJP) {
        message = `üèÜ Congress wins! (${votesCongress} - ${votesBJP})`;
        glowWinner();
    } else {
        alert('you need to give atleast one vote');
        // message = `ü§ù It's a tie!`;
        return;
    }

    document.getElementById("winner").innerHTML = message;
    confettiExplosion();
}

function glowWinner() {
    document.getElementById("winner").classList.add("winner-glow");
}

function confettiExplosion() {
    for (let i = 0; i < 100; i++) {
        let confetti = document.createElement("div");
        confetti.classList.add("confetti");
        confetti.style.left = Math.random() * 100 + "vw";
        confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
        confetti.style.animationDuration = (Math.random() * 2 + 1) + "s";
        document.body.appendChild(confetti);

        setTimeout(() => confetti.remove(), 3000);
    }
}

function resetVoting() {
    // votesBJP = 0;
    // votesCongress = 0;
    // votingEnded = false;
    // document.getElementById("result").innerHTML = "";
    // document.getElementById("winner").innerHTML = "";
    // document.getElementById("winner").classList.remove("winner-glow");
            window.location.href = "file:///C:/Users/hp/OneDrive/Desktop/Meet/vote.html";
}
</script>
<script>
        function logout() {
            window.location.href = "file:///C:/Users/hp/OneDrive/Desktop/Meet/Untitled-1.html";
        }
    </script>
</body>
</html>
